<!DOCTYPE html>
<html>
<head>
  <title>Self-Driving-Tank</title>
    <link rel="stylesheet" href="{{url_for('static', filename='main.css')}}">
</head>
<body>
 <div class="topnav">
        <a href="{{url_for('tank_control')}}"> TANK CONTROL </a>
        <a href="{{url_for('graphs')}}"> GRAPHS </a>
    </div>
  <h1 class="white_text">Tank Control</h1>

  <div class="button-container">
    <button class="button" id="softTurnForwardLeftBtn">Soft Turn Forward Left</button>
    <button class="button" id="forwardBtn">Forward</button>
    <button class="button" id="softTurnForwardRightBtn">Soft Turn Forward Right</button>
  </div>

  <div class="button-container">
    <button class="button" id="leftBtn">Left</button>
    <button class="button" id="stopBtn">Stop</button>
    <button class="button" id="rightBtn">Right</button>
  </div>

  <div class="button-container">
    <button class="button" id="softTurnBackwardLeftBtn">Soft Turn Backward Left</button>
    <button class="button" id="backwardBtn">Backward</button>
    <button class="button" id="softTurnBackwardRightBtn">Soft Turn Backward Right</button>
  </div>

  <!-- Add JavaScript code to handle button presses, releases, and mouse leave events -->
  <script>
    // Example JavaScript code for controlling the vehicle
    var forwardBtn = document.getElementById("forwardBtn");
    var backwardBtn = document.getElementById("backwardBtn");
    var leftBtn = document.getElementById("leftBtn");
    var rightBtn = document.getElementById("rightBtn");
    var stopBtn = document.getElementById("stopBtn");
    var softTurnForwardLeftBtn = document.getElementById("softTurnForwardLeftBtn");
    var softTurnForwardRightBtn = document.getElementById("softTurnForwardRightBtn");
    var softTurnBackwardLeftBtn = document.getElementById("softTurnBackwardLeftBtn");
    var softTurnBackwardRightBtn = document.getElementById("softTurnBackwardRightBtn");

    forwardBtn.addEventListener("mousedown", function() {
      // Code to move the vehicle forward when button is pressed
    const request = fetch("http://127.0.0.1:5000/update_state/2", {method: "UPDATE"})
        .then((response) => response.json())
        .then((json) => {
            console.log(json["message"]);
        });
    console.log(request);
      console.log("Moving forward");
      this.classList.add("active");
    });

    forwardBtn.addEventListener("mouseup", function() {
      // Code to stop the vehicle when button is released
      console.log("Stopping");
      this.classList.remove("active");
    });

    forwardBtn.addEventListener("mouseleave", function() {
      // Code to stop the vehicle when the mouse cursor leaves the button
      console.log("Stopping");
      this.classList.remove("active");
    });

    // Repeat the same pattern for the other buttons

    backwardBtn.addEventListener("mousedown", function() {
      console.log("Moving backward");
      this.classList.add("active");
    });

    backwardBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    backwardBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    leftBtn.addEventListener("mousedown", function() {
      console.log("Turning left");
      this.classList.add("active");
    });

    leftBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    leftBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    rightBtn.addEventListener("mousedown", function() {
      console.log("Turning right");
      this.classList.add("active");
    });

    rightBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    rightBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    stopBtn.addEventListener("mousedown", function() {
      console.log("Stopping");
      this.classList.add("active");
    });

    stopBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    stopBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnForwardLeftBtn.addEventListener("mousedown", function() {
      console.log("Soft turn forward left");
      this.classList.add("active");
    });

    softTurnForwardLeftBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnForwardLeftBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnForwardRightBtn.addEventListener("mousedown", function() {
      console.log("Soft turn forward right");
      this.classList.add("active");
    });

    softTurnForwardRightBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnForwardRightBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnBackwardLeftBtn.addEventListener("mousedown", function() {
      console.log("Soft turn backward left");
      this.classList.add("active");
    });

    softTurnBackwardLeftBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnBackwardLeftBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnBackwardRightBtn.addEventListener("mousedown", function() {
      console.log("Soft turn backward right");
      this.classList.add("active");
    });

    softTurnBackwardRightBtn.addEventListener("mouseup", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });

    softTurnBackwardRightBtn.addEventListener("mouseleave", function() {
      console.log("Stopping");
      this.classList.remove("active");
    });
  </script>
</body>
</html>
